KISSY.add("components/gallery_svgpath/index",function(){var a=function(){function a(a,b,c){return{x:a.x+(b.x-a.x)*c,y:a.y+(b.y-a.y)*c}}function b(a,b){return{x:2*b.x-a.x,y:2*b.y-a.y}}function c(a,b){var c,d,e,f,g,h,i,j,k;if(b&&a){if(c=isNaN(b.a)?1:b.a,d=isNaN(b.b)?0:b.b,e=isNaN(b.c)?0:b.c,f=isNaN(b.d)?1:b.d,g=isNaN(b.e)?0:b.e,h=isNaN(b.f)?0:b.f,j=a.length,!j)return{x:c*a.x+e*a.y+g,y:d*a.x+f*a.y+h};if(a[0]&&!isNaN(a[0].x)&&!isNaN(a[0].y)){for(k=[],i=0;j>i;i+=1)k[i]={},k[i].x=c*a[i].x+e*a[i].y+g,k[i].y=d*a[i].x+f*a[i].y+h;return k}if("number"==typeof a[0]&&0===j%2)for(i=0;j>i;i+=2)k={x:a[i],y:a[i+1]},a[i]=c*k.x+e*k.y+g,a[i+1]=d*k.x+f*k.y+h}}function d(a){return Math.sqrt(a.x*a.x+a.y*a.y)}function e(a,b){return d({x:b.x-a.x,y:b.y-a.y})}function f(a,b){var c,e=a.x*b.y-a.y*b.x<0?1:-1;return c=(a.x*b.x+a.y*b.y)/(d(a)*d(b)),c>1?c=1:-1>c&&(c=-1),180*e*Math.acos(c)/Math.PI}function g(a,b){return(isNaN(b)||0>b)&&(b=3),a.toFixed(b).replace(/\.0+$/,"").replace(/(\.[^0]+)0+$/,"$1")}function h(a){return a=a.toLowerCase(),/[vh]/.test(a)?1:/[mlt]/.test(a)?2:/[sq]/.test(a)?4:/[c]/.test(a)?6:/[a]/.test(a)?7:0}function i(a){var b,c,d,e,f,g,h,i=[];for(a=a.replace(/,/g," ").replace(/-/g," -").replace(/-\s+/g,"-").replace(/e\s*/gi,"e").replace(/\.(\d+)\./g,".$1 .").replace(/\.(\d+)\./g,".$1 .").replace(/\s+/g," "),i=a.replace(/([mzlhvcsqta])\s?/gi,"|$1").split("|"),i.splice(0,1),f=i.length,d=0;f>d;d+=1){if(h=i[d],c=h[0],b=h.substr(1).trim())for(b=b.split(/\s/),g=b.length,e=0;g>e;e+=1)b[e]=Number(b[e]);else b=[];i[d]={cmd:c,args:b}}return i}function j(a){var b=[],c=0,d=a.length;for(c;d>c;c+=1)b.push(a[c].x),b.push(a[c].y);return b}function k(a){var b,c,d=[];if("string"==typeof a){for(d=a.trim().split(/[\s,]+/),c=d.length,b=0;c>b;b+=1)d[b]=Number(d[b]);return d}return a}function l(a){var b,c=[];return a=k(a),b=a.length,b-=b%2,b>3&&(c.push({cmd:"M",args:[a[0],a[1]]}),c.push({cmd:"L",args:a.slice(2)})),c}function m(a){var b=l(a);return b.push({cmd:"Z"}),b}function n(a,b,d,e,f,g){function h(a){v.push({cmd:"L",args:a})}function i(a){var b=[{x:p,y:s},{x:o,y:s},{x:o,y:q},{x:p,y:q}];u[a]&&(u[a].points=c(u[a].points,{e:b[a].x,f:b[a].y}),v.push({cmd:"C",args:j(u[a].points.slice(1))}))}var k,l,m,n,o,p,q,s,t,u=[],v=[];return a=Number(a),b=Number(b),f=Math.abs(Number(f)),g=Math.abs(Number(g)),d=Math.abs(Number(d)),e=Math.abs(Number(e)),0!==d&&0!==e?(!g&&f?f=g:!f&&g?g=f:f||g||(f=g=0),t=d/2,f/2>t&&(f=t),t=e/2,g/2>t&&(g=t),m=d-2*f,n=e-2*g,f&&(k=a+d/2,l=b+e/2,u=r({cx:0,cy:0,rx:f,ry:g})),o=a+f,p=o+m,q=b+g,s=q+n,v.push({cmd:"M",args:[o,b]}),m&&h([p,b]),i(3),n&&h([p+f,s]),i(0),m&&h([o,s+g]),i(1),n&&h([o-f,q]),i(2),v.push({cmd:"Z"}),v):void 0}function o(a,b,c,d){var e,f,g,h=[];if(a=Number(a),b=Number(b),c=Number(c),d=Number(d),0!==c||0!==d){for(e=r({cx:a,cy:b,rx:c,ry:d}),h.push({cmd:"M",args:[a+c,b]}),g=e.length,f=0;g>f;f+=1)h.push({cmd:"C",args:j(e[f].points.slice(1))});return h.push({cmd:"Z"}),h}}function p(a){var b,c,d=!1,e=a.tagName.toUpperCase();return a.getAttribute||(d=!0,a.getAttribute=function(b){return a[b]}),"PATH"===e?b=i(a.getAttribute("d")):"POLYGON"===e?b=m(a.getAttribute("points")):"POLYLINE"===e?b=l(a.getAttribute("points")):"RECT"===e?b=n(a.getAttribute("x"),a.getAttribute("y"),a.getAttribute("width"),a.getAttribute("height"),a.getAttribute("rx"),a.getAttribute("ry")):"ELLIPSE"===e?b=o(a.getAttribute("cx"),a.getAttribute("cy"),a.getAttribute("rx"),a.getAttribute("ry")):"CIRCLE"===e&&(c=a.getAttribute("r"),b=o(a.getAttribute("cx"),a.getAttribute("cy"),c,c)),d&&delete a.getAttribute,b}function q(a){var b,c,d,e,f,g,j,k=[];for(f="string"==typeof a?i(a):p(a),j=f?f.length:0,e=0;j>e;e+=1)if(c=f[e].args,d=f[e].cmd,!/m/.test(d)||!f[e+1]||!/m/.test(f[e+1].cmd))if(b=h(d),c=c||[],c.length>b){g=0;do k.push({cmd:d,args:c.slice(g,g+b)}),g+=b,"m"===d?d="l":"M"===d&&(d="L");while(g<c.length)}else k.push({cmd:d,args:c});return t(k)}function r(a){function b(a,b){var c=(b-90*a)/90;return p?c:1-c}var c,d,e,f,g,h,i,j,k,l=a.cx,m=a.cy,n=a.rx,o=a.ry,p=a.angleDiff&&a.angleDiff>0,q=a.startAngle?a.startAngle%360:0,r=a.angleDiff?(a.angleDiff+q)%360:360,s=4*(Math.sqrt(2)-1)/3,t=s*n,u=s*o,v=[],w=[],x={x:l,y:m-o},y={x:l+n,y:m},z={x:l,y:m+o},A={x:l-n,y:m};if(0>q&&(q+=360),0>r&&(r+=360),e=x.x-t,f=x.x+t,g=A.y-u,h=A.y+u,v.push([{x:x.x,y:x.y},{x:f,y:x.y},{x:y.x,y:g},{x:y.x,y:y.y}]),v.push([{x:A.x,y:A.y},{x:A.x,y:g},{x:e,y:x.y},{x:x.x,y:x.y}]),v.push([{x:z.x,y:z.y},{x:e,y:z.y},{x:A.x,y:h},{x:A.x,y:A.y}]),v.push([{x:y.x,y:y.y},{x:y.x,y:h},{x:f,y:z.y},{x:z.x,y:z.y}]),p){for(c=Math.floor(q/90),c>3&&(c=0),d=Math.ceil(r/90)-1,0>d&&(d=3),k=v.length,j=0;k>j;j+=1)v[j].reverse();for(j=c;j!==d;)w.push(v[j]),j+=1,j>3&&(j=0);w.push(v[j])}else{for(c=Math.ceil(q/90)-1,0>c&&(c=3),d=Math.floor(r/90),d>3&&(d=0),j=c;j!==d;)w.push(v[j]),j-=1,0>j&&(j=3);w.push(v[j])}for(0!==q%90&&(i=E(w[0]),w[0]=i.splitAt(b(c,q))[1].points),0!==r%90&&(j=w.length-1,i=E(w[j]),w[j]=i.splitAt(b(d,r))[0].points),k=w.length,j=0;k>j;j+=1)w[j]=E(w[j]);return w}function s(a,b){function d(a){return c(a,{a:F,b:G,c:-G,d:F})}var e,g,h,i,j,k,l,m,n,o,p,q,s,t=a.x,u=a.y,v=b[5],w=b[6],x=b[3],y=b[4],z=Math.abs(b[0]),A=Math.abs(b[1]),B=z*z,C=A*A,D=b[2]%360*Math.PI/180,E={},F=Math.cos(D),G=Math.sin(D);if(t!==v||u!==w){if(!z||!A)return E.cmd="L",E.args=[v,w],E;for(x=x?1:0,y=y?1:0,h=c({x:(t-v)/2,y:(u-w)/2},{a:F,b:-G,c:G,d:F}),k=h.x*h.x,l=h.y*h.y,g=k/B+l/C,g>1&&(g=Math.sqrt(g),z*=g,A*=g,B=z*z,C=A*A),j=(x===y?-1:1)*Math.sqrt(Math.abs((B*C-B*l-C*k)/(B*l+C*k))),j={x:j*(z*h.y/A),y:j*(-A*h.x/z)},i=d(j),i.x+=(t+v)/2,i.y+=(u+w)/2,g={x:(h.x-j.x)/z,y:(h.y-j.y)/A},m=f({x:1,y:0},g),n=f(g,{x:-(h.x+j.x)/z,y:-(h.y+j.y)/A})%360,y&&n>0?n-=360:!y&&0>n&&(n+=360),e=r({cx:i.x,cy:i.y,rx:z,ry:A,startAngle:m,angleDiff:n}),b=[],q=e.length,o=0;q>o;o+=1)for(g=e[o],s=g.points.length,b[o]=[],p=0;s>p;p+=1)D&&(g.points[p]=c(g.points[p],{e:-i.x,f:-i.y}),g.points[p]=d(g.points[p]),g.points[p]=c(g.points[p],{e:i.x,f:i.y})),p>0&&(b[o].push(g.points[p].x),b[o].push(g.points[p].y));return b}}function t(a){function b(a,b){var c,d,f,g,h,i,j,k,l=[],m=0/0;if(b=b||.001,h=a.length,3>h)return!1;for(f=0;h>f;f+=1)g=a[f],c=g.cmd,"Z"===c?(i=!1,j=!1):"M"===c?(i={x:g.args[0],y:g.args[1]},j=!1):"C"===c?(i={x:g.args[4],y:g.args[5]},j=!1):"S"===c||"Q"===c?(i={x:g.args[2],y:g.args[3]},j=!1):"T"===c?(i={x:g.args[0],y:g.args[1]},j=!1):"L"===c&&(d={x:g.args[0],y:g.args[1]},i?(k=(d.y-i.y)/(d.x-i.x),!isNaN(m)&&(k===m||Math.abs(k-m)<b||e(i,d)<b)?l.pop():j?(i=j,m=(d.y-j.y)/(d.x-j.x)):isNaN(k)||(m=k)):i=d,j=d),"L"!==c&&(m=0/0),l.push(g);return l[0].cmd="M",l}var c,d,f,g,h,i,j,k,l,m={x:0,y:0},n=[];for(g=0,j=a.length;j>g;g+=1){if(d=a[g].cmd,h=/[a-z]/.test(d),d=d.toUpperCase(),c=a[g].args,"Z"===d)m=f,f=!1;else if(f||"M"===d||(f=m),"A"===d)h&&(c[5]+=m.x,c[6]+=m.y),l={x:c[5],y:c[6]},c=s(m,c),m=l,d="C";else if("H"===d)h&&(c[0]+=m.x),m={x:c[0],y:m.y},c[1]=m.y,d="L";else if("V"===d)h&&(c[0]+=m.y),m={x:m.x,y:c[0]},c[0]=m.x,c[1]=m.y,d="L";else for(k=c.length,i=0;k>i;i+=2)h&&(c[i]+=m.x,c[i+1]+=m.y),0===(i+2)%k&&(m={x:c[i],y:c[i+1]});if(c&&("M"!==d||!a[g+1]||"M"!==a[g+1].cmd.toUpperCase())){if(c[0]&&c[0].length)for(k=c.length,i=0;k>i;i+=1)n.push({cmd:d,args:c[i]});else n.push({cmd:d,args:c});"M"===d&&(f=m)}}return"Z"!==d&&n.push({cmd:"Z",args:[]}),b(n)}function u(b,c,d,e){var f,g,h,i,j,k,l,m=function(a,b){return{x:(a.x+b.x)/2,y:(a.y+b.y)/2}},n=a(b,c,.75),o=a(e,d,.75),p=(e.x-b.x)/16,q=(e.y-b.y)/16;return f=a(b,c,3/8),g=a(n,o,3/8),g.x-=p,g.y-=q,h=a(o,n,3/8),h.x+=p,h.y+=q,i=a(e,d,3/8),j=m(f,g),k=m(n,o),l=m(h,i),f.offCurve=!0,g.offCurve=!0,h.offCurve=!0,i.offCurve=!0,[f,g,h,i,e]}function v(a,b){var c=[],d={x:b[0],y:b[1]},e={x:b[2],y:b[3]};return c[4]=b[2],c[5]=b[3],c[0]=a.x+2/3*(d.x-a.x),c[1]=a.y+2/3*(d.y-a.y),c[2]=e.x+2/3*(d.x-e.x),c[3]=e.y+2/3*(d.y-e.y),c}function w(a){var c,d,e,f,g,h,i,j,k={x:0,y:0};for(a=a.slice(0),g=a.length,e=0;g>e;e+=1)d=a[e].cmd.toUpperCase(),c=a[e].args,"M"===d||"L"===d?k={x:c[0],y:c[1]}:"Z"===d&&(k={x:0,y:0}),"C"===d?(h={x:c[2],y:c[3]},k={x:c[4],y:c[5]}):"S"===d?(j=k,h&&(j=b(h,j)),h={x:c[0],y:c[1]},a[e].args=[j.x,j.y,c[0],c[1],c[2],c[3]],a[e].cmd="C",k={x:c[2],y:c[3]}):h=!1,"Q"===d?(i={x:c[0],y:c[1]},a[e].args=v(k,c),a[e].cmd="C",k={x:c[2],y:c[3]}):"T"===d?(j=k,i&&(j=b(i,j)),i=j,a[e].args=v(k,[j.x,j.y,c[0],c[1]]),a[e].cmd="C",k={x:c[0],y:c[1]}):i=!1;for(k={x:0,y:0},e=0;g>e;e+=1)for(d=a[e].cmd.toUpperCase(),c=a[e].args,f=0;f<c.length;f+=2)c[f]-=k.x,c[f+1]-=k.y,k.x+=c[f],k.y+=c[f+1];return a}function x(a){function c(){p.length>2&&o.push(p),p=[]}var d,e,f,g,h,i,j,k,l,m,n={x:0,y:0},o=[],p=[],q=a.length;for(f=0;q>f;f+=1)e=a[f].cmd.toUpperCase(),d=a[f].args,g="M"===e,g||"L"===e?(g&&c(),p.push({x:d[0],y:d[1]}),n={x:d[0],y:d[1]}):"Z"===e?(n={x:0,y:0},c()):h=n,"C"===e?(i={x:d[0],y:d[1]},j={x:d[2],y:d[3]},k={x:d[4],y:d[5]},p=p.concat(u(h,i,j,k)),l=j,n=k):"S"===e?(i=l?b(l,h):h,j={x:d[0],y:d[1]},k={x:d[2],y:d[3]},p=p.concat(u(h,i,j,k)),l=j,n=k):l=!1,"Q"===e?(i={x:d[0],y:d[1],offCurve:!0},j={x:d[2],y:d[3]},p.push(i),p.push(j),m=i,n=j):"T"===e?(m?(i=b(m,h),i.offCurve=!0):i=h,j={x:d[0],y:d[1]},p.push(i),p.push(j),m=i,n=j):m=!1;return p.length>2&&o.push(p),o}function y(a){var c,d,e,f,h,i,j,k,l,m,n,o,p=[],q={x:0,y:0},r={},s=[];for(k=a.length,h=0;k>h;h+=1){j=a[h];try{d=j.args.slice(0)}catch(t){d=[]}if(f=j.cmd.toLowerCase(),l=d?d.length:0,l>1){if(r.x=d[l-2],r.y=d[l-1],"c"===f?(m?(o=b(m,q),o.x===d[0]&&o.y===d[1]&&(f="s",d=d.slice(2)),m=o):m={x:d[2],y:d[3]},n=!1):"q"===f?(n?(o=b(n,q),o.x===d[0]&&o.y===d[1]&&(f="t",d=d.slice(2)),n=o):n={x:d[0],y:d[1]},m=!1):"s"===f?(m=m?b(m,q):!1,n=!1):"t"===f?(n=n?b(n,q):!1,m=!1):(m=!1,n=!1),"m"===f)f="M";else for(l=d.length,i=0;l>i;i+=2)d[i]-=q.x,d[i+1]-=q.y;"l"===f&&(0===d[0]?(f="v",d=[d[1]]):0===d[1]&&(f="h",d=[d[0]])),q.x=r.x,q.y=r.y}p.push({cmd:f,args:d})}for(e=[],h=0;k>h;h+=1){for(j=p[h],e.push(j),f=j.cmd,i=h+1;k>i&&p[i].cmd===f;)j.args=j.args.concat(p[i].args),i+=1;h=i-1}for(k=e.length,h=0;k>h;h+=1)for(j=e[h],s.push(j.cmd),l=j.args?j.args.length:0,i=0;l>i;i+=1)c=j.args[i],c=c>=0&&0!==i?" "+g(c):g(c),s.push(c);return s.join("")}function z(a){var b,c,d,e,f,g={},h={};try{if(f=a[0].width.baseVal.value,c=a[0].height.baseVal.value,e=a[0].getAttribute("viewBox"),!e)return{viewBox:{x:0,y:0,width:f,height:c},transform:!1};if(e=e.trim().split(/\s*[\,\s]\s*/),g.x=Number(e[0]),g.y=Number(e[1]),g.w=Number(e[2]),g.h=Number(e[3]),g.w<0||g.h<0)throw new Error("Invalid viewBox.");return f>=c&&g.w>=g.h||c>=f&&g.w>=g.h?(h.a=h.d=f/g.w,h.e=0):(c>=f&&g.w<=g.h||f>=c&&g.w<=g.h)&&(h.d=h.a=c/g.h),h.a&&(h.f=(c-h.d*g.h)/2,h.e=(f-h.a*g.w)/2,h.e-=g.x,h.f-=g.y),!isNaN(h)&&1!==h.a||h.e||h.f||(h=!1),{viewBox:{x:0,y:0,width:f,height:c},transform:h}}catch(i){try{return b=a[0].getBBox(),f=b.width,c=b.height,d=Math.max(f,c),{viewBox:{x:0,y:0,width:d,height:d},transform:!1}}catch(j){return{transform:!1}}}}function A(a){function b(a){var b,c,d=a.attr("transform"),e=/(\w+)\s*\(([e\d\s\.\,\-]+)\)/gm,f=[],g=[];return d?(d.replace(e,function(a,d,e){var h,i;g=e.replace(/-/g," -").replace(/e\s*/g,"e").replace(/,/g," ").replace(/\s+/g," ").trim().split(/\s/),g.forEach(function(a,b){g[b]=Number(a)}),"matrix"===d&&6===g.length?f.push({a:g[0],b:g[1],c:g[2],d:g[3],e:g[4],f:g[5]}):"scale"===d?(h=g[0]||1,i=g[1]||h,f.push({a:h,b:0,c:0,d:i})):"translate"===d?(h=g[0]||0,i=g[1]||0,f.push({a:1,b:0,c:0,d:1,e:h,f:i})):"rotate"===d&&(h=g[0]/180*Math.PI,b=Math.cos(h),c=Math.sin(h),f.push({a:b,b:c,c:-c,d:b}))}),f.reverse()):[]}function c(a,b){var c,d;for(c=0,d=b.length;d>c;c+=1)a.transform(b[c])}function d(a,e,f){var g,h,i,j,k,l,m,n,o,p;if("0"!==a.css("opacity")&&0!==a.attr("opacity")&&(h=a.attr("display"),i=a.css("display"),j=a.attr("fill"),k=a.css("fill"),n=a.attr("visibility"),o=a.css("visibility"),f=f||{},f=JSON.parse(JSON.stringify(f)),(j||k)&&(k=k||j,f.fill="none"===k||"transparent"===k||/rgba\(\d+,\s*\d+,\s*\d+,\s*0\)/.test(k)),"none"!==h&&"none"!==i)){if((n||o)&&(o=o||n,f.visibility="hidden"===o),a.is("g")||a.is("switch"))for(g=a.children(),p=B(),l=0,m=g.length;m>l;l+=1)d(C(g[l]),p,f);else{if(!a.is("polygon, polyline, path, circle, rect, ellipse"))return;for(p in f)if(f.hasOwnProperty(p)&&f[p])return;p=B(a[0])}c(p,b(a)),e.append(p)}}var e,f,g,h,i=B();for("string"==typeof a&&(a=C(a)),e=a.children(),f=0,g=e.length;g>f;f+=1)d(C(e[f]),i);return h=z(a),i.transform(h.transform),h.viewBox&&(i.viewBox=h.viewBox),i}function B(a){var b=[],d={};return d.append=function(a){var c,e,f=!1;if(!a)return this;if(D(a)){for(e=a.length,c=0;e>c;c+=1)d.append(a[c]);return this}return"string"!=typeof a&&a.length&&(a=a[0]),"string"==typeof a&&/<\/svg>/i.test(a)||a.tagName&&"svg"===a.tagName.toLowerCase()?(a=A(C(a)),a.viewBox&&(d.viewBox=a.viewBox),a=a.getPathArray(),f=!0):a.tagName||"string"==typeof a?a=q(a):a.getPathArray?(a=a.getPathArray(),f=!0):a=!1,a&&(f?b=b.concat(a):b.push(a)),this},d.setPath=function(a){return b=[],d.append(a)},d.getPathData=function(a){var c,d,e=[];for(c=0;c<b.length;c+=1)d=y(b[c]),-1===e.indexOf(d)&&e.push(d);return a?e:e.join("")},d.transform=function(a,e){var f,g,h=0,i=b.length;for(!isNaN(e)&&e>=0&&i>e&&(h=e,i=e+1),h;i>h;h+=1)for(f=b[h],g=0;g<f.length;g+=1)c(f[g].args,a);return d.viewBox&&(a.a&&(d.viewBox.width=Math.abs(Math.round(a.a*d.viewBox.width))),a.d&&(d.viewBox.height=Math.abs(Math.round(a.d*d.viewBox.height)))),this},d.scale=function(a,b,c){return a=Number(a),b=Number(b),a&&1/0!==a?(d.transform({a:a,d:b||a},c),this):this},d.translate=function(a,b,c){return a=Number(a),b=Number(b),isNaN(a)?this:(isNaN(b)&&(b=a),d.transform({e:a,f:b},c),this)},d.rotate=function(a,b){var c,e;return a=Number(a)/180*Math.PI,isNaN(a)?this:(c=Math.cos(a),e=Math.sin(a),d.transform({a:c,b:e,c:-e,d:c},b),this)},d.getTTFContours=function(){var a,c=[];for(a=0;a<b.length;a+=1)c=c.concat(x(b[a]));return c.length||(c=[[{x:0,y:0},{x:0,y:0},{x:0,y:0}]]),c},d.getCFFPath=function(){var a,c=[];for(a=0;a<b.length;a+=1)c=c.concat(b[a]);return w(c),c.length||(c=[{cmd:"Z",args:[]}]),c},d.getPathArray=function(){return b.slice(0)},d.setPath(a),d}var C={},D=function(a){return"[object Array]"===Object.prototype.toString.call(a)},E=function(b,c,d,e){var f={},g=function(b,c){var d,e,g,h,i,j,k=f.points[0],l=f.points[1],m=f.points[2],n=f.points[3];return d=a(k,l,b),e=a(l,m,b),g=a(m,n,b),h=a(d,e,b),i=a(e,g,b),j=a(h,i,b),c&&c.point?j:[E(k,d,h,j),E(j,i,g,n)]};return b.length?f.points=b.slice(0):(f.points=[],f.points[0]=b,f.points[1]=c,f.points[2]=d,f.points[3]=e),f.getPointAt=function(a){return g(a,{point:!0})},f.splitAt=g,f};return B}(),b=a();return b});