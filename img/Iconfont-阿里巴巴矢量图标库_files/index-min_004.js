KISSY.add("components/gallery_backtop/index",function(a,b){function c(){c.superclass.constructor.apply(this,arguments);var a=this,b="",e=a.get("text"),f=d('<a class="'+a.get("class")+'" style="'+b+'">'+e+"</a>").appendTo(d("body"));a._initEvent(f)}var d=a.all;return a.extend(c,b,{_initEvent:function(a){a.on("click",function(){d("html, body").animate({scrollTop:0},.4)});var b=function(){var b=d(document).scrollTop(),c=d(window).height();b>100?a.show():a.hide(),-[1]||window.XMLHttpRequest||a.css("top",b+c-166)};d(window).on("scroll",b)}},{ATTRS:{"class":{value:"backToTop"},text:{value:"返回顶部"}}}),c},{requires:["base"]});